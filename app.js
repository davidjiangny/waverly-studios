function serialize(e){var t,n,a=[];if("object"==typeof e&&"FORM"==e.nodeName)for(var o=e.elements.length,i=0;i<o;i++)if(t=e.elements[i],t.name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type){n=e.elements[i].options.length;for(var s=0;s<n;s++)t.options[s].selected&&(a[a.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.options[s].value))}else("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(a[a.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value));return a.join("&").replace(/%20/g,"+")}var App={init:function(){if(App.capturenavlinks(),App.contactform(),window.addEventListener("orientationchange",App.orientationchange),window.onpopstate=function(e){null!==e.state?e.state.hasOwnProperty("pageid")&&App.loadpagebyid(parseInt(e.state.pageid),!0):App.loadpagebyid(11,!0)},""!==window.location.hash){var e=document.querySelector('article[data-pageslug="'+window.location.hash.substr(1)+'"]');if(e){var t=e.getAttribute("data-pageid");App.loadpagebyid(parseInt(t),!0)}else window.location.hash=""}},resetallnavs:function(){for(var e=document.querySelectorAll("nav .toggle"),t=0;t<e.length;t++){var n=e[t];n.parentNode.classList.remove("active")}},capturenavlinks:function(){var e=document.querySelector("header .back");e.addEventListener("click",function(t){t.preventDefault(),e.classList.add("clicked"),App.loadpagebyid(11)},!1);var t=document.querySelector("header .contactus");t&&t.addEventListener("click",function(e){e.preventDefault(),App.loadpagebyid(26)},!1);for(var n=document.querySelectorAll("nav .toggle"),a=0;a<n.length;a++){var o=n[a];o.addEventListener("click",function(e){e.preventDefault(),this.parentNode.classList.contains("active")?(this.parentNode.classList.remove("active"),"nav-social"===this.parentNode.id&&document.querySelector("header .contactus")&&document.querySelector("header .contactus").classList.remove("hide")):(App.resetallnavs(),this.parentNode.classList.add("active"),"nav-social"===this.parentNode.id&&document.querySelector("header .contactus")&&document.querySelector("header .contactus").classList.add("hide"))},!1),o.addEventListener("touchend",function(e){e.preventDefault(),this.parentNode.classList.contains("active")?this.parentNode.classList.remove("active"):(App.resetallnavs(),this.parentNode.classList.add("active"))},!1)}for(var i=document.querySelectorAll("nav ul li"),a=0;a<i.length;a++){var o=i[a],s=o.querySelector("a");o.classList.contains("menu-item-object-page")&&s.addEventListener("click",function(e){e.preventDefault();var t=parseInt(this.getAttribute("data-pageid"));App.loadpagebyid(t)},!1),o.classList.contains("menu-item-object-custom")&&s.addEventListener("click",function(e){e.preventDefault(),App.externallink(this.href)},!1)}for(var c=document.querySelectorAll("ul.clients li a"),a=0;a<c.length;a++){var o=c[a];o.addEventListener("click",function(e){e.preventDefault(),App.externallink(this.href)},!1),o.addEventListener("touchend",function(e){e.preventDefault(),App.externallink(this.href)},!1)}},externallink:function(e){App.resetallnavs(),window.open(e)},resetallpages:function(){document.body.classList.remove("onpage"),document.body.classList.remove("light");for(var e=document.querySelectorAll("article[data-pageid]"),t=0;t<e.length;t++){var n=e[t];n.classList.remove("active")}},loadpagebyid:function(e,t){"undefined"==typeof t&&(t=!1),App.resetallnavs();var n=document.querySelector('article[data-pageid="'+e+'"]'),a=n.getAttribute("data-pageslug");if(n&&(App.resetallpages(),11!=e&&document.body.classList.add("onpage"),18==e&&document.body.classList.add("onpage"),n.classList.add("active")),t===!1){history.pushState({pageid:e},e,"#"+a);try{ga("send","pageview",location.pathname+location.hash)}catch(e){}}},contactform:function(){var e=document.getElementById("contactform");e.addEventListener("submit",function(t){t.preventDefault();var n=serialize(this),a=new XMLHttpRequest;a.open("GET",window._settings.wp+"admin-ajax.php?"+n),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.addEventListener("load",function(){if(console.log(this.status,this.statusText,this.responseText),200===this.status){var t=JSON.parse(this.responseText);t.success===!0&&e.reset()}},!1),a.addEventListener("error",function(){},!1),a.addEventListener("abort",function(){},!1),a.send()},!1)},orientationchange:function(){switch(window.orientation){case-90:case 90:}}};document.addEventListener("DOMContentLoaded",App.init);
//# sourceMappingURL=site.js.map
